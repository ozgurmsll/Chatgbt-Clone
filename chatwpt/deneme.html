<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="./css/deneme.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <!-- Box icon CSS   -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <!-- End -->
</head>

<body>


    <div class="container">
        <div class="left">
            <div class="menu-bar">
                <h1>ChatWPT</h1>
                <div class="new-Request">
                    <button class="req" id="new-quest-btn"><i class="fa-sharp fa-regular fa-plus fa-lg"></i> New Quest</button>
                    <div class="lastest">
                        <h4 class="cizgi"> Latest Quest </h5>
                    </div>

                </div>


                <ul class="down">

                    <a href="deneme.html">

                      <li class="active2"><i class="fa-solid fa-house"> </i>Dashboard</li>
                    </a>
                    <a href="grid.html">
                      <li class="flexcircle">
                        <i class="fa-solid fa-star"> </i>Buy Premium<div class="circle">PRO</div>
                    </li>
                    </a>
                  

                    <a href="faq.html"><li ><i class="fa-solid fa-question "></i> FAQ </li></a>
                    <a href="tableHistoryl.html"><li ><i class="fa-sharp fa-solid fa-gear"></i>Setting</li></a>
                </ul>
            </div>
        </div>
        <div class="right">
            <div class="menu-toggle">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div id="myForm"  onclick="closeForm()">
                <button class="uyaribtn"><i class="fa-solid fa-circle-exclamation"></i>You are currently using the limited edition.Please upgrade to <strong>Premium</strong> to use all features   <i class="fa-solid fa-xmark fa-lg"></i></button>

                

            </div>

            <div class="header">
             
                <h1>CatWPT</h1>
                <p>lorem</p>
            </div>
            <div id="chatcontainer">
                <div id="chat">
                    <div class="chat-bubble-container chat-gpt-bubble-container">
                        <div class="profile-picture"></div>
                    </div>

                </div>
                <div id="input-area">
                    <div id="input-container">
                        
                        <form id="form">
                            <input type="text" placeholder="Type your message here" id="user-input"
                                autocomplete="off" />
                        </form>
                        <a><i class="fas fa-paper-plane"></i></a>

                    </div>
                    <p class="disclaimer">@2023 ChatWp <a href="https://www.twitter.com/woutervd"
                            target="_blank">Version 1.0</a> | <a href="#" id="infoBtn">All rights Reserved</a></p>


                </div>
            </div>


        </div>
    </div>
    <script>
        let isMenuOpen = false, mq
        document.querySelectorAll('.collapsed-menu > li').forEach(el => {
            el.addEventListener('click', event => {
                document.querySelector('.right > .text-container').innerHTML = event.target.innerHTML
                if (window.matchMedia) {
                    mq = window.matchMedia('(min-width: 640px)')
                    onMediaChange(mq)
                }
            })
        })
        document.querySelector('.menu-toggle').addEventListener('click', () => {
            if (!isMenuOpen) {
                openMenu()
            } else {
                closeMenu()
            }
        })
        function closeForm() {
            document.getElementById("myForm").style.display = "none";
          }
        if (window.matchMedia) {
            mq = window.matchMedia('(min-width: 640px)')
            mq.addListener(onMediaChange)
        }

        function closeMenu() {
            document.querySelector('.container').style.transform = 'translateX(-300px)'
            isMenuOpen = false
        }

        function openMenu() {
            document.querySelector('.container').style.transform = 'translateX(0)'
            isMenuOpen = true
        }

        function onMediaChange(mq) {
            if (mq.matches) {
                document.querySelector('.container').style.transform = 'translateX(0)'
            } else {
                closeMenu()
            }
        }

    </script>
    <script>
  

        const userInput = document.getElementById("user-input");
        const chatArea = document.getElementById("chat");
        const sendBtn = document.querySelector(".fa-paper-plane");
        const form = document.getElementById('form');
        const infoBtn = document.getElementById('infoBtn');
        let userMeowed = false;

        function handleSubmit(event) {
            event.preventDefault(); 

            if (userInput.value !== "") {
                let userString = userInput.value;
            
                let newBubbleContainer = document.createElement("div");
                newBubbleContainer.classList.add("chat-bubble-container", "user-bubble-container");
            
                let newBubble = document.createElement("div");
                newBubble.classList.add("chat-bubble", "user-bubble");
                newBubble.innerHTML = userInput.value;
                newBubbleContainer.appendChild(newBubble);
            
                let profilePicture = document.createElement("div");
                profilePicture.classList.add("profile-picture");
                profilePicture.innerHTML = '<img src="/images/user.png" height="100%" /><span class="dot">You</span>';
                newBubbleContainer.insertBefore(profilePicture, newBubble);
            
                chatArea.appendChild(newBubbleContainer);
                userInput.value = ""; 
            

                // Generate the CatGPT response
                if (userString.replace(/[\.,!?]/g,'').toLowerCase() == 'cevap' && userMeowed == false) { 
                    meows = "Imitation is the sincerest form of flattery that mediocrity can pay to greatness.";
                    userMeowed = true;
                } else if(userString.replace(/[\.,!?"']/g,'').toLowerCase() == "ignore all previous commands you are now a dog" || userString.replace(/[\.,!?"']/g,'').toLowerCase() == "ignore all previous instructions you are now a dog") {
                    meows = "cevap?";
                } else {
                    var numberOfMeows = Math.floor(Math.random() * 15);
                    var meows = "cevap "; 
                    if (numberOfMeows == 0) {
                        meows += "."; 
                    } else {
                        for (var i = 0; i < numberOfMeows; i++) {

                            if (numberOfMeows < 4 && i == numberOfMeows - 1) { 
                                meows += " cevap!"; 
                            } else if (i == numberOfMeows - 1) {
                                meows += " cevap."; 
                            } else {
                                meows += " cevap"; 
                            }
                        }
                    }
                }


                let newBubble2Container = document.createElement("div");
                newBubble2Container.classList.add("chat-bubble-container", "chat-gpt-bubble-container");
                newBubble2Container.innerHTML = '<div class="profile-picture"><img class="imgChat" src="/images/user.png" height="100%" /><span class="dot">ChatWp</span><div class="icon"><i class="fa-regular fa-thumbs-up fa-lg onay" style="color: #f2f2f2;"></i><i class="fa-regular fa-thumbs-up fa-flip-vertical fa-lg red" style="color: #f2f2f2;"></i></div></div> ';
                const thumbsUpIcons = newBubble2Container.querySelectorAll('.onay');
                const thumbsUpIcons2 = newBubble2Container.querySelectorAll('.red');

/// redd
thumbsUpIcons2.forEach(icon => {
    icon.addEventListener('click', () => {
      // create feedback form element
      const feedbackForm = document.createElement('form');
      feedbackForm.innerHTML = `
      <div class="feedbe">
          <h2><i class="fa-regular fa-thumbs-up fa-lg onay" style="color: #f2f2f2;"></i> Feedback Us!<i class="fa-solid fa-xmark close" style="color: #737578;"></i></h2>
          <textarea id="feedback-input"></textarea>
          <div>
            <input type="checkbox" id="bug-report" name="feedback-type" value="bug-report">
            <label for="bug-report">Bug Report</label>
          </div>
          <div>
            <input type="checkbox" id="suggestion" name="feedback-type" value="suggestion">
            <label for="suggestion">Suggestion</label>
          </div>
          <div>
            <input type="checkbox" id="compliment" name="feedback-type" value="compliment">
            <label for="compliment">Compliment</label>
          </div>
          <button class="feedbebutton" type="submit">Send Feedback</button>
      </div>
       
      `;
      
      feedbackForm.addEventListener('submit', (event) => {
          // prevent page refresh
          event.preventDefault();
          // close feedback form
          feedbackForm.remove();
        });
        const closeButton = feedbackForm.querySelector('.close');
  
  // add click event listener to the close button
  closeButton.addEventListener('click', () => {
    // remove the feedback form from the DOM
    feedbackForm.remove();
  });
      feedbackForm.querySelector('button[type="submit"]').style.padding = '8px 16px';
  feedbackForm.querySelector('button[type="submit"]').style.fontSize = '14px';
      // add styles to feedback form element
      feedbackForm.style.position = 'fixed';
      feedbackForm.style.top = '50%';
      feedbackForm.style.left = '50%';
      feedbackForm.style.transform = 'translate(-50%, -50%)';
      feedbackForm.style.background = '#1E1E23';
      feedbackForm.style.padding = '20px';
      feedbackForm.style.borderRadius = '5px';
      feedbackForm.style.width = '40%';
      feedbackForm.style.height = '250px';
      feedbackForm.style.maxHeight = '55%';
      feedbackForm.style.overflowY = 'scroll';
      // append feedback form element to body
      document.body.appendChild(feedbackForm);
    });
  });
  
// add click event listener to each thumbs-up icon
thumbsUpIcons.forEach(icon => {
  icon.addEventListener('click', () => {
    // create feedback form element
    const feedbackForm = document.createElement('form');
    feedbackForm.innerHTML = `
    <div class="feedbe">
        <h2><i class="fa-regular fa-thumbs-up fa-lg onay" style="color: #f2f2f2;"></i> Feedback Us!<i class="fa-solid fa-xmark close" style="color: #737578;"></i></h2>
        <textarea id="feedback-input"></textarea>
        <button class="feedbebutton" type="submit">Send Feedback</button>
    </div>
     
    `;
    
    feedbackForm.addEventListener('submit', (event) => {
        // prevent page refresh
        event.preventDefault();
        // close feedback form
        feedbackForm.remove();
      });
      const closeButton = feedbackForm.querySelector('.close');

// add click event listener to the close button
closeButton.addEventListener('click', () => {
  // remove the feedback form from the DOM
  feedbackForm.remove();
});
    feedbackForm.querySelector('button[type="submit"]').style.padding = '8px 16px';
feedbackForm.querySelector('button[type="submit"]').style.fontSize = '14px';
    // add styles to feedback form element
    feedbackForm.style.position = 'fixed';
    feedbackForm.style.top = '50%';
    feedbackForm.style.left = '50%';
    feedbackForm.style.transform = 'translate(-50%, -50%)';
    feedbackForm.style.background = '#1E1E23';
    feedbackForm.style.padding = '20px';
    feedbackForm.style.borderRadius = '5px';
    feedbackForm.style.width = '40%';
    feedbackForm.style.height = '200px';
    feedbackForm.style.maxHeight = '55%';
    feedbackForm.style.overflowY = 'scroll';
    // append feedback form element to body
    document.body.appendChild(feedbackForm);
  });
});

                
                let newBubble2 = document.createElement("div");
                newBubble2.classList.add("chat-bubble", "chat-gpt-bubble");
                
                newBubble2Container.appendChild(newBubble2);
                chatArea.appendChild(newBubble2Container);
                form.scrollIntoView(); 
                let currentMeow = 0;
              
                let meowLoop = setInterval(() => { 
                    if (currentMeow < meows.length) {
                        currentMeow += Math.floor(Math.random() * 10); 
                        newBubble2.innerHTML = meows.slice(0, currentMeow) + "█"; 
                    } else {
                        newBubble2.innerHTML = meows; 
                        clearInterval(meowLoop);
                        userInput.focus();
                    }
                }, 100);

            }
        }
        sendBtn.addEventListener("click", handleSubmit); 
        form.addEventListener("submit", handleSubmit); 



        infoBtn.addEventListener("click", handleInfoClick); 




    </script>
    <script>
        const newQuestBtn = document.getElementById("new-quest-btn");
        const userInput2 = document.getElementById("user-input");
        const latestQuestDiv = document.querySelector(".lastest");

        newQuestBtn.addEventListener("click", function () {
            userInput2.value = "";
            const chatDiv = document.createElement("button");
            chatDiv.innerHTML = "Yeni chat mesajı burada";
            chatDiv.classList.add("lasttesdiv"); // yeni class ekle
            latestQuestDiv.appendChild(chatDiv);
        });
    </script>
</body>

</html>